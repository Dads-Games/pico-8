function TitleScreen(a)local b=0;local c=5;local d=1;local e={8,9,10,11,12,13,14}local f=1;local g={"game","info","credits"}local h={UP=0,DOWN=1,LEFT=2,RIGHT=3,B=4,A=5,START=6}local i={h.UP,h.UP,h.DOWN,h.DOWN,h.LEFT,h.RIGHT,h.LEFT,h.RIGHT,h.B,h.A,h.START}local j={}local k=false;local l=false;local m=0;local n=1*30;local o=false;local p=true;function go_to_character_select()a.screen=screens.character_select;timer=0;timer_frame_counter=0;a.score=0 end;function title_screen_controller()if not o then o=true;music(48)end;b=b+1;if b>c then b=0;d=d+1;if d>#e then d=1 end end;local q=nil;pause_suppress()if btnp(0)then q=h.LEFT elseif btnp(1)then q=h.RIGHT elseif btnp(2)then q=h.UP elseif btnp(3)then q=h.DOWN elseif btnp(4)then q=h.B elseif btnp(5)then q=h.A elseif btnp(6)then q=h.START end;if q then add(j,q)if#j>11 then deli(j,1)end end;if not k and#j>=#i then local r=true;for s=1,#i do if j[#j-#i+s]~=i[s]then r=false;break end end;k=r end;if k and p then if not l then sfx(58)end;l=true;m=m+1;if m>n then p=false;a.konami=true;go_to_character_select()else return end end;game_over_timer=0;if btnp(2)then f=f-1;if f<1 then f=#g end end;if btnp(3)then f=f+1;if f>#g then f=1 end end;if btnp(6)then if f==1 then a.screen=screens.character_select;timer=0;timer_frame_counter=0;a.score=0 elseif f==2 then a.screen=Info(a)elseif f==3 then a.screen=Credits(a)end end end;press_start_blinker=SpecialEffect().blink;function title_screen_view()local t=e[d]for s=1,6 do local u=5+(s-1)*22;local v=40;spr(s,u,v)end;printc("rainbow riders",0,53,t)press_start_blinker(15,function(w,x)if w==0 then printc("press start",39,65,7)end end)printc("(c) 1977 dads' games",0,120,1)for s,y in ipairs(g)do local z=70+10*s;if f==s then print("->",30,z,7)end;printc(y,40,z,7)end;if a.score>a.high_score then a.high_score=a.score;dset(0,a.high_score)end end;return{view=title_screen_view,controller=title_screen_controller}end