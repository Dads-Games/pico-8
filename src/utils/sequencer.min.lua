Ease={Linear=function(a)return a end,QuadIn=function(a)return a*a end,QuadOut=function(a)return 1-(1-a)*(1-a)end,QuadInOut=function(a)return a<0.5 and 2*a*a or 1-(-2*a+2)^2/2 end,CubicIn=function(a)return a*a*a end,CubicOut=function(a)return 1-(1-a)^3 end,CubicInOut=function(a)return a<0.5 and 4*a*a*a or 1-(-2*a+2)^3/2 end,QuartIn=function(a)return a*a*a*a end,QuartOut=function(a)return 1-(1-a)^4 end,QuartInOut=function(a)return a<0.5 and 8*a*a*a*a or 1-(-2*a+2)^4/2 end,ExpoIn=function(a)return a==0 and 0 or 2^(10*a-10)end,ExpoOut=function(a)return a==1 and 1 or 1-2^(-10*a)end,ExpoInOut=function(a)return a==0 and 0 or a==1 and 1 or a<0.5 and 2^(20*a-10)/2 or(2-2^(-20*a+10))/2 end,SineIn=function(a)return 1-cos(a*3.1415927/2)end,SineOut=function(a)return sin(a*3.1415927/2)end,SineInOut=function(a)return-(cos(3.1415927*a)-1)/2 end,BackIn=function(a)local b=1.70158;local c=b+1;return c*a*a*a-b*a*a end,BackOut=function(a)local b=1.70158;local c=b+1;return 1+c*(a-1)^3+b*(a-1)^2 end,BackInOut=function(a)local b=1.70158;local d=b*1.525;return a<0.5 and(2*a)^2*((d+1)*2*a-d)/2 or((2*a-2)^2*((d+1)*(a*2-2)+d)+2)/2 end,ElasticIn=function(a)local e=2*3.1415927/3;return a==0 and 0 or a==1 and 1 or-2^(10*a-10)*sin((a*10-10.75)*e)end,ElasticOut=function(a)local e=2*3.1415927/3;return a==0 and 0 or a==1 and 1 or 2^(-10*a)*sin((a*10-0.75)*e)+1 end,ElasticInOut=function(a)local f=2*3.1415927/4.5;return a==0 and 0 or a==1 and 1 or a<0.5 and-(2^(20*a-10)*sin((20*a-11.125)*f))/2 or 2^(-20*a+10)*sin((20*a-11.125)*f)/2+1 end,BounceIn=function(a)return 1-Ease.BounceOut(1-a)end,BounceOut=function(a)local g=7.5625;local h=2.75;return a<1/h and g*a*a or a<2/h and g*(a-1.5/h)*(a-1.5/h)+0.75 or a<2.5/h and g*(a-2.25/h)*(a-2.25/h)+0.9375 or g*(a-2.625/h)*(a-2.625/h)+0.984375 end,BounceInOut=function(a)return a<0.5 and(1-Ease.BounceOut(1-2*a))/2 or(1+Ease.BounceOut(2*a-1))/2 end}function Sequencer(i)local j=0;local k=1;local l=1;local m=false;local n={}local function o(p,q)local r={}for s,t in pairs(p.properties)do if type(t)=="table"and t.from and t.to then local u=t.ease(q)r[s]=t.from+(t.to-t.from)*u else r[s]=t end end;return r end;return function()if m and#n==0 then return false end;for v,p in ipairs(n)do p.fn(p.finalProps)end;if m then return true end;local p=i[k]local w=p.duration*30;j=j+l;if j>=w then if p.ending==Ending.Stop then j=w;m=true elseif p.ending==Ending.ReverseAndStop then if l<0 then m=true else l=-1;j=w end elseif p.ending==Ending.ReverseAndLoop then l=-l;j=w elseif p.ending==Ending.Reset then j=0;k=k%#i+1 elseif p.ending==Ending.Loop then j=0 else m=true end end;local q=mid(0,j/w,1)local r=o(p,q)p.fn(r)if j>=w then if p.persists then add(n,{fn=p.fn,finalProps=r})end;if k<#i then k=k+1;j=0;l=1;m=false else m=true end end;return true end end;Ending={Stop=0,ReverseAndStop=1,Loop=2,ReverseAndLoop=3,Reset=4}