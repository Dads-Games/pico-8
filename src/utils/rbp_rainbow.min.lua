rbp_enabled=true;rbp_colors={RED,ORANGE,YELLOW,GREEN,BLUE,INDIGO,DARK_PURPLE}rpb_particle_lifetime=15;rpb_particles={}rbp_score_color_step=5;rpb_score_threshold=15;function rbp_make_rainbow_band(a,b,c,d)return{x=b,y=c,lifetime=d,colors={unpack(rbp_colors,1,a)}}end;function rbp_render_rainbow_band(e)for f=1,#e.colors do local g=1-e.lifetime/rpb_particle_lifetime;if rnd(0.8)<g then goto h end;local b=e.x;local c=e.y-f;local i=1;local j=1;local k=e.colors[f]rectfill(b,c,b+i,c+j,k)::h::end end;function rbp_draw_update(l,m)if not rbp_enabled then return end;local n=l.y+8;local o=l.y+8;local p=l.x-2;local a=0+flr((m-rpb_score_threshold)/rbp_score_color_step)local q=rbp_make_rainbow_band(a,p,n,rpb_particle_lifetime)add(rpb_particles,q)for f=#rpb_particles,1,-1 do local r=rpb_particles[f]r.x=r.x-1;rbp_render_rainbow_band(r)r.lifetime=r.lifetime-1;if r.lifetime==0 then del(rpb_particles,r)end end end